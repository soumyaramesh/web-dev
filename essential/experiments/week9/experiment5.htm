<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <meta name="viewport"
          content="initial-scale=1, minimum-scale=1">


    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <script src="javascript/angular.js"></script>
    <script src="javascript/angular-sanitize.js"></script>
    <script src="javascript/angular-route.js"></script>
    <script src="javascript/angular-route.min.js"></script>


    <script src="javascript/exp1.js" type="text/javascript"></script>

    <title> Upvote and Downvote </title>



</head>

<body style="background-color:aliceblue" ng-app="RoutingApp">

    <h1 style="color:rosybrown;text-align:center ">Upvote and Downvote</h1>
    <br />


    <h4>About the Experiment</h4>
    <p>
        In this experiment, I have created the functionality for an authenticated logged in user to upvote or downvote a post. I have added two bootstrap glyphicons for the upvote and downvote symbols.
    </p>

    <div class="container-fluid">
        <h4>Code Snippet:</h4>

<pre style="font-size:16px">
<strong>angularApp.js</strong>
$scope.incrementUpvotes = function (post) {
        $http.put('/rest/posts/' + post._id + '/vote')
        .success(function (response) {
            post.upvotes += 1
        });
    }

$scope.decrementUpvotes = function (post) {
        $http.put('/rest/posts/' + post._id + '/vote')
        .success(function (response) {
            post.upvotes -= 1
        });
    }
</pre>

<strong>home.html</strong>
        <xmp>
        <span class="glyphicon glyphicon-upload"
              ng-click="incrementUpvotes(post)"></span>
        <span class="glyphicon glyphicon-download"
              ng-click="decrementUpvotes(post)"></span>
        </xmp>

    </div>
    <div class="container-fluid">

        <h4>Description :</h4>
        <br />
        <p>
            When the upvote icon is clicked, the incrementUpvotes(post) is invoked which inturn sends a get request which retrieves the post based on the id of the post and updates the upvote value by adding 1 to it.
            <br />
            Similarly, When the downvote icon is clicked, the decrementUpvotes(post) is invoked which inturn sends a get request which retrieves the post based on the id of the post and updates the upvote value by subtracting 1 from it.
        </p>
    </div>

    <h3>Screenshots</h3>
    <div class="container">
        <img src="../images/week9-exp3.jpg" alt="exp3 Output">
    </div>






    <h3>Source Code</h3>
    <a href="../../fileview/Default.aspx?~/experiments/week9/experiment5.htm" target="_blank">experiment5.htm</a><br />
    <a href="../../fileview/Default.aspx?~/experiments/week9/home.html" target="_blank">home.html</a><br />
    <a href="../../fileview/Default.aspx?~/experiments/week9/angularApp.js" target="_blank">server.js</a><br />
    <a href="../../fileview/Default.aspx?~/experiments/week9/server.js" target="_blank">server.js</a><br />

    <h2>References</h2>
    <a href="https://www.youtube.com/user/jannunzi" target="_blank">Professor Jose's Lectures</a> </br>
    <hr />






</body>
</html>
